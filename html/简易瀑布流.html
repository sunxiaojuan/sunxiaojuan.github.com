<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
*{ margin:0; padding:0;}
div{ width:865px; margin:0 auto; overflow:hidden;}
ul{ float:left; width:270px;}
li{ width:260px; margin:10px; background:pink; list-style:none; font-size:50px; color:#fff; text-align:center;}
</style>
<script>
window.onload = function(){
    var aUl = document.getElementsByTagName('ul');
    create();
    window.onscroll=function(){
        var scrollTop = document.documentElement.scrollTop||document.body.scrollTop;
        if(scrollTop>=document.body.scrollHeight-document.documentElement.clientHeight-500){
            create();
        }
    };
    function create(){
        for(var i=0;i<20;i++){
            var oLi = document.createElement('li');
            oLi.style.height=rnd(100,300)+'px';
            var r=rnd(0,256);
            var g=rnd(0,256);
            var b=rnd(0,256);
            oLi.style.background='rgb('+r+','+g+','+b+')';
            oLi.innerHTML=i;
            
            var arr=[];
            for(var j=0;j<aUl.length;j++){
                arr.push(aUl[j]);
            }
            arr.sort(function(ul1,ul2){
            return ul1.offsetHeight-ul2.offsetHeight;
            });
            arr[0].appendChild(oLi);
        }
    };
    function rnd(m,n){
        return Math.floor(Math.random()*(m-n)+n);
    }
};
</script>
</head>

<body style="background:#444;">
    <div>
        <ul></ul>
        <ul></ul>
        <ul></ul>
    </div>
</body>
</html>
